function batch_243()
% Analyze Wehr lab data in Narf

narf_set_path; 

global MODULES;

MODULES = scan_directory_for_modules();   

batch = 243;

mm = {'wenv100', ...
      {'root2','root4','log2b'}, ...
      {'firn','wdepn'} ...
      'initrc',...
      'npfnl',...
      'mse',...
      'boost'};

celllist={...
   'out121012_002_002',...
   'out121112_004_003_E',...
   'out121112_004_003_I',...
   'out121112_004_005_E',...
   'out121112_004_005_I',...
   'out121412_007_002',...
   'out121812_002_003',...
   'out121812_002_005',...
   'out121812_004_003',...
   'out121812_004_005',...
   'out122012_002_001_E',...
   'out122012_002_001_I',...
   'out122012_003_001',...
   'out122012_007_001_E',...
   'out122012_007_001_I'};
cells=cell(length(celllist),1);
for ii=1:length(celllist),
    cells{ii}=struct();
    cells{ii}.cellid=celllist{ii};
    cells{ii}.training_set={[celllist{ii} '_est']};
    cells{ii}.test_set={[celllist{ii} '_val']};
    cells{ii}.filecode={};
end

modulekeys = keyword_combos(mm);
force=false;

for ii = 1:length(cells)
    for jj = 1:length(modulekeys)       
        fprintf('Fitting cell "%s" [%d/%d] model [%d/%d] %s\n', ...
            cells{ii}.cellid, ii, length(cells),  jj, length(modulekeys), ...
            write_readably(modulekeys{jj})); 
        
        % For testing, use fit_single_model instead of enqueue_single_model
        %fit_single_model(batch, cells{ii}.cellid, modulekeys{jj}, ...
        %    cells{ii}.training_set, cells{ii}.test_set, cells{ii}.filecode);
        
        enqueue_single_model(batch, cells{ii}.cellid, modulekeys{jj}, ...
         cells{ii}.training_set, cells{ii}.test_set, cells{ii}.filecode,force);
    end
end
